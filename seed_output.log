
> flow-store@1.3.0 seed:test
> node run-seed.js test

Running seed for environment: test
[DB] Starting... NODE_ENV=undefined, looking for: app.config.json
[DB] CWD: /Users/felipe/dev/flow-store/app
[DB] CONFIG_PATH env: undefined
[DB] Checking paths: [
  {
    path: '/Users/felipe/dev/flow-store/app/app.config.json',
    exists: true
  },
  {
    path: '/Users/felipe/dev/flow-store/app.config.json',
    exists: false
  },
  { path: '/Users/felipe/dev/app.config.json', exists: false }
]
[DB] âœ“ Found app.config.json at: /Users/felipe/dev/flow-store/app/app.config.json
[DB] Reading config from: /Users/felipe/dev/flow-store/app/app.config.json
[DB] Database name: undefined
[DB] NODE_ENV: undefined
[DB] Creando nueva instancia de DataSource (singleton)...
[DB] Inicializando DataSource...
[DB] âœ… DataSource inicializado correctamente

ğŸ’ FlowStore JoyerÃ­a - Seed Inicial
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ§¹ Limpiando datos corruptos...
   âœ“ Datos corruptos limpiados

ğŸ”„ Verificando conexiÃ³n a base de datos...
   âœ“ ConexiÃ³n verificada correctamente

ğŸ§¨ Reiniciando base de datos...
   âœ“ Base de datos reiniciada

ğŸ§¾ Eliminando aportes de capital legacy...
   â€¢ Sin aportes de capital legacy que limpiar

ğŸ¢ Creando empresa...
   âœ“ Empresa asegurada: Joyarte SpA

ğŸ¤ Registrando socios...
   âœ“ Persona creada: Amalia Riquelme
   âœ“ Socio registrado: Amalia Riquelme (100% participaciÃ³n)

ğŸ¬ Configurando sucursales...
   âœ“ Sucursal creada: Sucursal Parral
   âœ“ Sucursal creada: Tienda Online

ğŸ·ï¸  Configurando centros de costo...
   â€¢ Centro de costo OPS-PARRAL (Operaciones Sucursal Parral) listo
   â€¢ Centro de costo OPS-ONLINE (Operaciones Tienda Online) listo

ğŸ—‚ï¸  Configurando unidades organizativas...
   â€¢ Unidad organizativa ADM-CENTRAL (AdministraciÃ³n Central) lista
   â€¢ Unidad organizativa OPS-PARRAL (Operaciones Sucursal Parral) lista
   â€¢ Unidad organizativa OPS-ONLINE (Operaciones Tienda Online) lista

ğŸ’° Creando impuestos...
   âœ“ Impuesto creado: IVA 19%
   âœ“ Impuesto creado: Exento
   âœ“ Impuesto creado: ILA Bebidas AnalcohÃ³licas 10%
   âœ“ Impuesto creado: ILA Bebidas Azucaradas 18%
   âœ“ Impuesto creado: ILA Cervezas y Sidras 20.5%
   âœ“ Impuesto creado: ILA Vinos y Chichas 20.5%
   âœ“ Impuesto creado: ILA Licores y Destilados 31.5%
   âœ“ Impuesto creado: Impuesto de Lujo 15%

ğŸ“š Configurando plan de cuentas contable...
   â€¢ Cuenta 1 (ACTIVOS) lista
   â€¢ Cuenta 1.1 (ACTIVO CIRCULANTE) lista
   â€¢ Cuenta 1.1.01 (Caja General) lista
   â€¢ Cuenta 1.1.02 (Instituciones Financieras (Bancos)) lista
   â€¢ Cuenta 1.1.03 (Clientes (Cuentas por Cobrar)) lista
   â€¢ Cuenta 1.1.04 (Existencias (Inventario)) lista
   â€¢ Cuenta 1.1.05 (IVA CrÃ©dito Fiscal (19%)) lista
   â€¢ Cuenta 1.1.06 (PPM (Pagos Provisionales Mensuales)) lista
   â€¢ Cuenta 1.2 (ACTIVO FIJO) lista
   â€¢ Cuenta 1.2.01 (Maquinaria e Instalaciones) lista
   â€¢ Cuenta 1.2.02 (VehÃ­culos) lista
   â€¢ Cuenta 2 (PASIVOS) lista
   â€¢ Cuenta 2.1 (PASIVO CIRCULANTE) lista
   â€¢ Cuenta 2.1.01 (Proveedores (Cuentas por Pagar)) lista
   â€¢ Cuenta 2.1.02 (IVA DÃ©bito Fiscal (19%)) lista
   â€¢ Cuenta 2.1.03 (Retenciones de Honorarios (13.75%)) lista
   â€¢ Cuenta 2.1.04 (Remuneraciones por Pagar) lista
   â€¢ Cuenta 2.1.05 (Leyes Sociales por Pagar) lista
   â€¢ Cuenta 3 (PATRIMONIO) lista
   â€¢ Cuenta 3.1.01 (Capital Pagado) lista
   â€¢ Cuenta 3.1.02 (Utilidades / PÃ©rdidas Acumuladas) lista
   â€¢ Cuenta 4 (INGRESOS) lista
   â€¢ Cuenta 4.1 (Ingresos Operacionales) lista
   â€¢ Cuenta 4.1.01 (Ventas de MercaderÃ­as) lista
   â€¢ Cuenta 4.1.02 (Ventas de Servicios) lista
   â€¢ Cuenta 4.2 (Ingresos No Operacionales) lista
   â€¢ Cuenta 4.2.01 (Intereses Ganados / Otros Ingresos) lista
   â€¢ Cuenta 5 (EGRESOS / GASTOS) lista
   â€¢ Cuenta 5.1 (Costos de Ventas) lista
   â€¢ Cuenta 5.1.01 (Costo de MercaderÃ­as Vendidas (CMV)) lista
   â€¢ Cuenta 5.2 (Gastos de AdministraciÃ³n) lista
   â€¢ Cuenta 5.2.01 (Sueldos y Salarios) lista
   â€¢ Cuenta 5.2.02 (Arriendos) lista
   â€¢ Cuenta 5.2.03 (Gastos Generales) lista
   â€¢ Cuenta 5.2.04 (Honorarios Profesionales) lista
   â€¢ Cuenta 5.3 (Gastos de Ventas) lista
   â€¢ Cuenta 5.3.01 (Publicidad y Marketing) lista
   â€¢ Cuenta 5.3.02 (Comisiones por Ventas) lista

ğŸ“‘ Configurando categorÃ­as de gasto...
   â€¢ CategorÃ­a SERV_AGUA (Agua y alcantarillado) lista
   â€¢ CategorÃ­a SERV_LUZ (Electricidad) lista
   â€¢ CategorÃ­a SERV_INTERNET (Internet y telecomunicaciones) lista
   â€¢ CategorÃ­a SERV_BAS_OTH (Servicios bÃ¡sicos complementarios) lista
   â€¢ CategorÃ­a RRHH_SUELDOS (Pago de remuneraciones) lista
   â€¢ CategorÃ­a RRHH_ADELANTO (Adelantos de sueldos) lista
   â€¢ CategorÃ­a RRHH_BENEF (Beneficios y viÃ¡ticos) lista
   â€¢ CategorÃ­a SERV_EXTERNOS (Servicios profesionales externos) lista
   â€¢ CategorÃ­a MANT_LOCAL (MantenciÃ³n y reparaciones del local) lista
   â€¢ CategorÃ­a SERV_LIMPIEZA (Limpieza y seguridad) lista
   â€¢ CategorÃ­a TI_SOFTWARE (Licencias y software) lista
   â€¢ CategorÃ­a TI_CLOUD (Servicios cloud y SaaS) lista
   â€¢ CategorÃ­a MKT_DIGITAL (Marketing digital) lista
   â€¢ CategorÃ­a MKT_TRADIC (Marketing offline y eventos) lista
   â€¢ CategorÃ­a LOG_DESPACHO (Transporte y logÃ­stica) lista
   â€¢ CategorÃ­a OFI_SUMINISTROS (Suministros y papelerÃ­a) lista
   â€¢ CategorÃ­a RRHH_CAPAC (CapacitaciÃ³n y desarrollo) lista
   â€¢ CategorÃ­a ADM_SEGUROS (Seguros y pÃ³lizas) lista

ğŸ§¾ Configurando reglas contables...
   â€¢ Regla TRANSACTION / SALE (1) lista
   â€¢ Regla TRANSACTION / SALE (2) lista
   â€¢ Regla TRANSACTION / SALE (3) lista
   â€¢ Regla TRANSACTION / SALE (4) lista
   â€¢ Regla TRANSACTION_LINE / SALE (10) lista
   â€¢ Regla TRANSACTION / PURCHASE (1) lista
   â€¢ Regla TRANSACTION_LINE / PURCHASE (15) lista
   â€¢ Regla TRANSACTION / OPERATING_EXPENSE (5) lista
   â€¢ Regla TRANSACTION / OPERATING_EXPENSE (6) lista
   â€¢ Regla TRANSACTION / OPERATING_EXPENSE (7) lista
   â€¢ Regla TRANSACTION / OPERATING_EXPENSE (8) lista
   â€¢ Regla TRANSACTION / PAYMENT_OUT (19) lista
   â€¢ Regla TRANSACTION / PAYMENT_OUT (20) lista
   â€¢ Regla TRANSACTION / PAYMENT_OUT (21) lista
   â€¢ Regla TRANSACTION / PAYMENT_OUT (22) lista
   â€¢ Regla TRANSACTION / PAYMENT_OUT (23) lista
   â€¢ Regla TRANSACTION / PAYMENT_OUT (24) lista
   â€¢ Regla TRANSACTION / PAYMENT_OUT (25) lista
   â€¢ Regla TRANSACTION / PAYMENT_OUT (26) lista
   â€¢ Regla TRANSACTION / PAYMENT_OUT (27) lista
   â€¢ Regla TRANSACTION / PAYMENT_OUT (28) lista
   â€¢ Regla TRANSACTION / PAYMENT_OUT (29) lista
   â€¢ Regla TRANSACTION / PAYMENT_OUT (30) lista
   â€¢ Regla TRANSACTION / PAYMENT_OUT (31) lista
   â€¢ Regla TRANSACTION / PAYMENT_OUT (32) lista
   â€¢ Regla TRANSACTION / PAYMENT_OUT (33) lista
   â€¢ Regla TRANSACTION / PAYMENT_OUT (34) lista
   â€¢ Regla TRANSACTION / PAYMENT_OUT (35) lista
   â€¢ Regla TRANSACTION / PAYMENT_OUT (36) lista
   â€¢ Regla TRANSACTION / PAYMENT_OUT (37) lista
   â€¢ Regla TRANSACTION / PAYMENT_IN (40) lista
   â€¢ Regla TRANSACTION / PAYMENT_IN (41) lista
   â€¢ Regla TRANSACTION / CASH_DEPOSIT (42) lista

ğŸ“ Creando categorÃ­as de joyerÃ­a...
   âœ“ CategorÃ­a creada: Anillos
   âœ“ CategorÃ­a creada: Collares
   âœ“ CategorÃ­a creada: Aros
   âœ“ CategorÃ­a creada: Pulseras
   âœ“ CategorÃ­a creada: Relojes
   âœ“ CategorÃ­a creada: Cadenas
   âœ“ CategorÃ­a creada: Sets
   âœ“ CategorÃ­a creada: Accesorios

ğŸ’ Creando atributos para variantes...
   âœ“ Atributo creado: Material (7 opciones)
   âœ“ Atributo creado: Talla (12 opciones)
   âœ“ Atributo creado: Piedra (8 opciones)
   âœ“ Atributo creado: Quilates (7 opciones)
   âœ“ Atributo creado: Largo (5 opciones)

ğŸ“‹ Configurando listas de precios...
   âœ“ Lista de precios creada: Precio PÃºblico
   âœ“ Lista de precios creada: Venta Online
   âœ“ Lista de precios creada: Mayorista Joyero

ğŸ“¦ Configurando bodegas...
   âœ“ Bodega creada: Vitrina Principal

ğŸ–¥ï¸  Configurando puntos de venta...
   âœ“ Punto de venta creado: Caja Principal â†’ Lista por defecto Precio PÃºblico
   âœ“ Punto de venta creado: Caja Mayorista â†’ Lista por defecto Mayorista Joyero

ğŸ‘¤ Creando usuarios...
   âœ“ Persona creada: Felipe ChandÃ­a Castillo
   âœ“ Usuario creado: admin
   â€¢ ContraseÃ±a actualizada: 098098
   âœ“ Persona creada: Camila Rojas ManrÃ­quez
   âœ“ Usuario creado: op

ğŸ—“ï¸  Configurando periodos contables...
   âœ“ Periodo cerrado: Joyarte SpA 2025-10-01 â†’ 2025-10-31
   âœ“ Periodo cerrado: Joyarte SpA 2025-11-01 â†’ 2025-11-30
   âœ“ Periodo cerrado: Joyarte SpA 2025-12-01 â†’ 2025-12-31
   âœ“ Periodo abierto: Joyarte SpA 2026-01-01 â†’ 2026-01-31

ğŸ’¼ Configurando sesiones de caja base...
   âœ“ SesiÃ³n de caja creada: Caja Mayorista â†’ Apertura 2026-01-19T06:56:32.000Z ($90.000)

ğŸ’¸ Registrando transacciones contables base...
   âœ“ TransacciÃ³n registrada: CSO-20260119095632-LWHS01-771B02 (CASH_SESSION_OPENING) â†’ $90.000
   âœ“ TransacciÃ³n registrada: CAP-000001 (PAYMENT_IN) â†’ $890.000
   âœ“ TransacciÃ³n registrada: BTC-000001 (PAYMENT_OUT) â†’ $800.000

ğŸ§‘â€ğŸ¤â€ğŸ§‘ Creando clientes base...
   âœ“ Persona creada: Camila Paredes
   âœ“ Cliente creado: Camila Paredes
   âœ“ Persona creada: Miguel Mesa
   âœ“ Cliente creado: Miguel Mesa
   âœ“ Persona creada: Valeria Rojas
   âœ“ Cliente creado: Valeria Rojas

ğŸ­ Creando proveedores base...
   âœ“ Persona registrada: MetalÃºrgica Andina SpA
   âœ“ Proveedor creado: MetalÃºrgica Andina SpA
   âœ“ Persona registrada: Gemas del Sur Ltda.
   âœ“ Proveedor creado: Gemas del Sur Ltda.
   âœ“ Persona registrada: Taller Silva Joyeros EIRL
   âœ“ Proveedor creado: Taller Silva Joyeros EIRL
   âœ“ Persona registrada: Joyas Patagonia Comercial Ltda.
   âœ“ Proveedor creado: Joyas Patagonia Comercial Ltda.
   âœ“ Persona registrada: Luminosa Imports SpA
   âœ“ Proveedor creado: Luminosa Imports SpA
   âœ“ Persona registrada: Energia Metropolitana S.A.
   âœ“ Proveedor creado: Energia Metropolitana S.A.
   âœ“ Persona registrada: Aguas Cordilleranas S.A.
   âœ“ Proveedor creado: Aguas Cordilleranas S.A.
   âœ“ Persona registrada: AndesNet Telecomunicaciones SpA
   âœ“ Proveedor creado: AndesNet Telecomunicaciones SpA
   âœ“ Persona registrada: Libreria Oficina Total Ltda.
   âœ“ Proveedor creado: Libreria Oficina Total Ltda.
   âœ“ Persona registrada: Servicios Tecnicos Luis Herrera
   âœ“ Proveedor creado: Servicios Tecnicos Luis Herrera
   âœ“ Persona registrada: Consultoria TI Valentina Rojas
   âœ“ Proveedor creado: Consultoria TI Valentina Rojas

ğŸ” Asignando permisos al administrador...
   âœ“ 72 permisos asignados

ğŸ“ Configurando unidades de medida...
   âœ“ Unidad base creada: Unidad (un)
   âœ“ Unidad base creada: Kilogramo (kg)
   âœ“ Unidad derivada creada: Caja (cj)
   âœ“ Unidad derivada creada: Gramo (g)

ğŸ’ Creando productos de ejemplo...
   âœ“ Variante asegurada: ANI-SOL-ORO18-T6
   âœ“ Variante asegurada: ANI-SOL-ORO18-T7
   âœ“ Variante asegurada: COL-VEN-ORO14-45
   âœ“ Variante asegurada: COL-VEN-ORO14-50
   âœ“ Variante asegurada: COL-VEN-PLATA-50
   âœ“ Variante asegurada: ARE-PER-PLATA
   âœ“ Variante asegurada: ARE-PER-ORO18
   âœ“ Variante asegurada: PUL-TEN-OROB-ZAF
   âœ“ Variante asegurada: PUL-TEN-PLATA-ZAF
   âœ“ Variante asegurada: PUL-ESC-ORO-18
   âœ“ Variante asegurada: PUL-ESC-PLATA-18
   âœ“ Variante asegurada: REL-CRO-ACERO-NEG
   âœ“ Variante asegurada: REL-CRO-ORO-NEG
   âœ“ Variante asegurada: REL-CLA-OROB-BLA
   âœ“ Variante asegurada: REL-CLA-ACERO-MAD
   âœ“ Variante asegurada: CAD-SIN-PLATA-45
   âœ“ Variante asegurada: CAD-SIN-PLATA-55
   âœ“ Variante asegurada: CAD-BAR-ORO18-50
   âœ“ Variante asegurada: CAD-BAR-ORO18-60
   âœ“ Variante asegurada: SET-RUB-ORO18
   âœ“ Variante asegurada: SET-PER-PLATA
   âœ“ Variante asegurada: ACC-LIMP-ULTRA
   âœ“ Variante asegurada: ACC-BOX-LUX
   âœ“ Variante asegurada: ANI-ETR-ORO18-T6
   âœ“ Variante asegurada: ANI-ETR-ORO18-T7
   âœ“ Variante asegurada: ANI-ETR-ORO18-T8
   âœ“ Variante asegurada: COL-COR-ORO18-45
   âœ“ Variante asegurada: COL-COR-PLATA-45
   âœ“ Variante asegurada: PUL-CHA-PLATA-LUNA
   âœ“ Variante asegurada: PUL-CHA-DORADA-EST
   âœ“ Variante asegurada: PUL-CHA-MIX-CORA
   âœ“ Variante asegurada: ARE-HAL-OROR-MOR
   âœ“ Variante asegurada: ARE-HAL-PLATA-MOR
   âœ“ Variante asegurada: REL-DEP-TI-AZUL
   âœ“ Variante asegurada: REL-DEP-TI-NEG
   âœ“ Variante asegurada: SET-ESM-AURA
   âœ“ Variante asegurada: CAD-FOR-TI-50
   âœ“ Variante asegurada: CAD-FOR-TI-60
   âœ“ Variante asegurada: ANI-HAL-OROB-T6
   âœ“ Variante asegurada: ANI-HAL-OROB-T7
   âœ“ Variante asegurada: PUL-MIX-BIMETAL
   âœ“ Variante asegurada: PUL-MIX-CUARZO
   âœ“ Variante asegurada: ACC-KIT-EXPRESS

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âœ… Seed completado exitosamente!
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ“Š Resumen de datos:
   â€¢ Empresa: Joyarte SpA
   â€¢ Sucursales (2): Sucursal Parral (Casa matriz), Tienda Online
   â€¢ Impuestos (8):
      - Exento
      - ILA Bebidas AnalcohÃ³licas 10%
      - ILA Bebidas Azucaradas 18%
      - ILA Cervezas y Sidras 20.5%
      - ILA Licores y Destilados 31.5%
      - ILA Vinos y Chichas 20.5%
      - Impuesto de Lujo 15%
      - IVA 19%
   â€¢ Plan de cuentas: 38 cuentas activas
   â€¢ CategorÃ­as de gasto: 18 categorÃ­as
   â€¢ Reglas contables: 33 reglas automÃ¡ticas
   â€¢ Permisos asignados: 72
   â€¢ Usuarios activos: 2
   â€¢ Personas registradas: 17
   â€¢ Socios activos: 1 (Amalia Riquelme)
   â€¢ Clientes activos: 3 (Camila Paredes, Miguel Mesa, Valeria Rojas)
   â€¢ Proveedores activos: 11 (MetalÃºrgica Andina SpA, Gemas del Sur Ltda., Taller Silva Joyeros EIRL, Joyas Patagonia Comercial Ltda., Luminosa Imports SpA, Energia Metropolitana S.A., Aguas Cordilleranas S.A., AndesNet Telecomunicaciones SpA, Libreria Oficina Total Ltda., Servicios Tecnicos Luis Herrera, Consultoria TI Valentina Rojas)
   â€¢ Centros de costo: 2 activos
   â€¢ Unidades organizativas: 3 activas
   â€¢ CategorÃ­as: 8 categorÃ­as de joyerÃ­a
   â€¢ Atributos: 5 atributos para variantes
   â€¢ Productos: 23 productos de ejemplo (43 variantes)
   â€¢ Listas de precios: 3 (Precio PÃºblico, Venta Online, Mayorista Joyero)
   â€¢ Ãtems de listas de precio: 127
   â€¢ Bodegas: 1 (Vitrina Principal)
   â€¢ Puntos de venta: 2 (Caja Principal â†’ Precio PÃºblico, Caja Mayorista â†’ Mayorista Joyero)

ğŸ”‘ Credenciales de acceso:
   Usuario: admin
   ContraseÃ±a: 098098
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

