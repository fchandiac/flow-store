<testsuites id="" name="" tests="2" failures="0" skipped="0" errors="0" time="25.035057999999996">
<testsuite name="auth/session-persistence.spec.ts" timestamp="2025-12-25T19:11:44.325Z" hostname="electron" tests="2" failures="0" skipped="0" time="24.333" errors="0">
<testcase name="Session Persistence Tests › should persist session after app restart" classname="auth/session-persistence.spec.ts" time="16.011">
<system-out>
<![CDATA[[AppHelper] Launching Electron with env: {
  NODE_ENV: [32m'test'[39m,
  CONFIG_PATH: [32m'/Users/felipe/dev/flow-store/app/app.config.json'[39m,
  NEXTAUTH_URL: [32m'http://localhost:3002'[39m
}
Current URL after launch: http://localhost:3002/admin
Waiting for Next.js app to load...
Final URL: http://localhost:3002/admin
[AuthHelper] Already logged in, skipping login process
[TEST] Session established successfully - user is logged in
[TEST] Login successful, session cookie and localStorage present
[TEST] First app instance closed
[AppHelper] Launching Electron with env: {
  NODE_ENV: [32m'test'[39m,
  CONFIG_PATH: [32m'/Users/felipe/dev/flow-store/app/app.config.json'[39m,
  NEXTAUTH_URL: [32m'http://localhost:3002'[39m
}
Current URL after launch: http://localhost:3002/admin
Waiting for Next.js app to load...
Final URL: http://localhost:3002/admin
[TEST] Session automatically restored after app restart!
]]>
</system-out>
</testcase>
<testcase name="Session Persistence Tests › should clear session on logout" classname="auth/session-persistence.spec.ts" time="8.322">
<system-out>
<![CDATA[[AppHelper] Launching Electron with env: {
  NODE_ENV: [32m'test'[39m,
  CONFIG_PATH: [32m'/Users/felipe/dev/flow-store/app/app.config.json'[39m,
  NEXTAUTH_URL: [32m'http://localhost:3002'[39m
}
Current URL after launch: http://localhost:3002/admin
Waiting for Next.js app to load...
Final URL: http://localhost:3002/admin
[AuthHelper] Already logged in, skipping login process
[AuthHelper] Starting logout process...
[AuthHelper] Current URL before logout: http://localhost:3002/admin
[AuthHelper] Profile button visible: [33mfalse[39m
[AuthHelper] Profile not visible, trying to open sidebar...
[AuthHelper] Menu button visible: [33mtrue[39m
[AuthHelper] Clicking menu button to open sidebar...
[AuthHelper] Sidebar logout button visible: [33mtrue[39m
[AuthHelper] Clicking sidebar logout button...
[AuthHelper] Waiting for redirect after logout...
[AuthHelper] URL after logout: http://localhost:3002/
[AuthHelper] Waiting for login form to appear...
[AuthHelper] Logout completed successfully
[TEST] Session cleared successfully on logout
]]>
</system-out>
</testcase>
</testsuite>
</testsuites>