<testsuites id="" name="" tests="54" failures="19" skipped="3" errors="0" time="490.907848">
<testsuite name="auth/login.spec.ts" timestamp="2025-12-18T16:54:38.980Z" hostname="electron" tests="5" failures="3" skipped="0" time="20.799" errors="0">
<testcase name="Login Tests › debe permitir login exitoso con credenciales válidas" classname="auth/login.spec.ts" time="3.014">
<system-out>
<![CDATA[[AppHelper] Launching Electron with env: {
  NODE_ENV: [32m'test'[39m,
  CONFIG_PATH: [32m'/Users/felipe/dev/ElectNextStart/app.config.json'[39m,
  NEXTAUTH_URL: [32m'http://localhost:3000'[39m
}
Current URL after launch: http://localhost:3000/home
Waiting for Next.js app to load...
Final URL: http://localhost:3000/home
]]>
</system-out>
</testcase>
<testcase name="Login Tests › debe mostrar error con password incorrecto" classname="auth/login.spec.ts" time="5.133">
<failure message="login.spec.ts:109:7 debe mostrar error con password incorrecto" type="FAILURE">
<![CDATA[  [electron] › auth/login.spec.ts:109:7 › Login Tests › debe mostrar error con password incorrecto ─

    TimeoutError: page.waitForSelector: Timeout 5000ms exceeded.
    Call log:
      - waiting for locator('.alert-error') to be visible


      120 |     // Act & Assert
      121 |     // Esperar que aparezca el mensaje de error en el formulario
    > 122 |     await page.waitForSelector('.alert-error', { timeout: 5000 });
          |                ^
      123 |     const errorElement = await page.locator('.alert-error');
      124 |     const errorText = await errorElement.textContent();
      125 |     expect(errorText).toContain('Usuario o contraseña incorrectos');
        at /Users/felipe/dev/ElectNextStart/tests/e2e/auth/login.spec.ts:122:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ../../test-results/artifacts/auth-login-Login-Tests-deb-95a12-ror-con-password-incorrecto-electron/test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ../../test-results/artifacts/auth-login-Login-Tests-deb-95a12-ror-con-password-incorrecto-electron/error-context.md

    attachment #3: trace (application/zip) ─────────────────────────────────────────────────────────
    ../../test-results/artifacts/auth-login-Login-Tests-deb-95a12-ror-con-password-incorrecto-electron/trace.zip
    Usage:

        npx playwright show-trace ../../test-results/artifacts/auth-login-Login-Tests-deb-95a12-ror-con-password-incorrecto-electron/trace.zip

    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|artifacts/auth-login-Login-Tests-deb-95a12-ror-con-password-incorrecto-electron/test-failed-1.png]]

[[ATTACHMENT|artifacts/auth-login-Login-Tests-deb-95a12-ror-con-password-incorrecto-electron/error-context.md]]

[[ATTACHMENT|artifacts/auth-login-Login-Tests-deb-95a12-ror-con-password-incorrecto-electron/trace.zip]]
]]>
</system-out>
</testcase>
<testcase name="Login Tests › debe mostrar error con usuario inexistente" classname="auth/login.spec.ts" time="5.263">
<failure message="login.spec.ts:145:7 debe mostrar error con usuario inexistente" type="FAILURE">
<![CDATA[  [electron] › auth/login.spec.ts:145:7 › Login Tests › debe mostrar error con usuario inexistente ─

    TimeoutError: page.waitForSelector: Timeout 5000ms exceeded.
    Call log:
      - waiting for locator('.alert-error') to be visible


      156 |     // Act & Assert
      157 |     // Esperar que aparezca el mensaje de error en el formulario
    > 158 |     await page.waitForSelector('.alert-error', { timeout: 5000 });
          |                ^
      159 |     const errorElement = await page.locator('.alert-error');
      160 |     const errorText = await errorElement.textContent();
      161 |     expect(errorText).toContain('Usuario o contraseña incorrectos');
        at /Users/felipe/dev/ElectNextStart/tests/e2e/auth/login.spec.ts:158:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ../../test-results/artifacts/auth-login-Login-Tests-deb-cc064-ror-con-usuario-inexistente-electron/test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ../../test-results/artifacts/auth-login-Login-Tests-deb-cc064-ror-con-usuario-inexistente-electron/error-context.md

    attachment #3: trace (application/zip) ─────────────────────────────────────────────────────────
    ../../test-results/artifacts/auth-login-Login-Tests-deb-cc064-ror-con-usuario-inexistente-electron/trace.zip
    Usage:

        npx playwright show-trace ../../test-results/artifacts/auth-login-Login-Tests-deb-cc064-ror-con-usuario-inexistente-electron/trace.zip

    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[[AppHelper] Launching Electron with env: {
  NODE_ENV: [32m'test'[39m,
  CONFIG_PATH: [32m'/Users/felipe/dev/ElectNextStart/app.config.json'[39m,
  NEXTAUTH_URL: [32m'http://localhost:3000'[39m
}
Current URL after launch: http://localhost:3000/
Waiting for Next.js app to load...
Final URL: http://localhost:3000/

[[ATTACHMENT|artifacts/auth-login-Login-Tests-deb-cc064-ror-con-usuario-inexistente-electron/test-failed-1.png]]

[[ATTACHMENT|artifacts/auth-login-Login-Tests-deb-cc064-ror-con-usuario-inexistente-electron/error-context.md]]

[[ATTACHMENT|artifacts/auth-login-Login-Tests-deb-cc064-ror-con-usuario-inexistente-electron/trace.zip]]
]]>
</system-out>
</testcase>
<testcase name="Login Tests › debe registrar auditoría completa después de login exitoso" classname="auth/login.spec.ts" time="4.214">
<failure message="login.spec.ts:172:7 debe registrar auditoría completa después de login exitoso" type="FAILURE">
<![CDATA[  [electron] › auth/login.spec.ts:172:7 › Login Tests › debe registrar auditoría completa después de login exitoso 

    Error: expect(received).toBeGreaterThan(expected)

    Expected: > 0
    Received:   0

      186 |
      187 |     const audits = await dbHelper.findAuditsByUser(user!.id);
    > 188 |     expect(audits.length).toBeGreaterThan(0);
          |                           ^
      189 |
      190 |     const loginAudit = audits.find((a) => a.action === 'LOGIN');
      191 |     expect(loginAudit).toBeTruthy();
        at /Users/felipe/dev/ElectNextStart/tests/e2e/auth/login.spec.ts:188:27

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ../../test-results/artifacts/auth-login-Login-Tests-deb-1715d-ta-después-de-login-exitoso-electron/test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ../../test-results/artifacts/auth-login-Login-Tests-deb-1715d-ta-después-de-login-exitoso-electron/error-context.md

    attachment #3: trace (application/zip) ─────────────────────────────────────────────────────────
    ../../test-results/artifacts/auth-login-Login-Tests-deb-1715d-ta-después-de-login-exitoso-electron/trace.zip
    Usage:

        npx playwright show-trace ../../test-results/artifacts/auth-login-Login-Tests-deb-1715d-ta-después-de-login-exitoso-electron/trace.zip

    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[[AppHelper] Launching Electron with env: {
  NODE_ENV: [32m'test'[39m,
  CONFIG_PATH: [32m'/Users/felipe/dev/ElectNextStart/app.config.json'[39m,
  NEXTAUTH_URL: [32m'http://localhost:3000'[39m
}
Current URL after launch: http://localhost:3000/
Waiting for Next.js app to load...
Final URL: http://localhost:3000/

[[ATTACHMENT|artifacts/auth-login-Login-Tests-deb-1715d-ta-después-de-login-exitoso-electron/test-failed-1.png]]

[[ATTACHMENT|artifacts/auth-login-Login-Tests-deb-1715d-ta-después-de-login-exitoso-electron/error-context.md]]

[[ATTACHMENT|artifacts/auth-login-Login-Tests-deb-1715d-ta-después-de-login-exitoso-electron/trace.zip]]
]]>
</system-out>
</testcase>
<testcase name="Login Tests › debe mantener sesión después de recargar página" classname="auth/login.spec.ts" time="3.175">
<system-out>
<![CDATA[[AppHelper] Launching Electron with env: {
  NODE_ENV: [32m'test'[39m,
  CONFIG_PATH: [32m'/Users/felipe/dev/ElectNextStart/app.config.json'[39m,
  NEXTAUTH_URL: [32m'http://localhost:3000'[39m
}
Current URL after launch: http://localhost:3000/home
Waiting for Next.js app to load...
Final URL: http://localhost:3000/home
]]>
</system-out>
</testcase>
</testsuite>
<testsuite name="auth/logout.spec.ts" timestamp="2025-12-18T16:54:38.980Z" hostname="electron" tests="7" failures="1" skipped="0" time="56.953" errors="0">
<testcase name="Logout Tests › debe realizar logout exitoso" classname="auth/logout.spec.ts" time="6.637">
<system-out>
<![CDATA[[AppHelper] Launching Electron with env: {
  NODE_ENV: [32m'test'[39m,
  CONFIG_PATH: [32m'/Users/felipe/dev/ElectNextStart/app.config.json'[39m,
  NEXTAUTH_URL: [32m'http://localhost:3000'[39m
}
Current URL after launch: http://localhost:3000/home
Waiting for Next.js app to load...
Final URL: http://localhost:3000/home
[AuthHelper] Starting logout process...
[AuthHelper] Current URL before logout: http://localhost:3000/home
[AuthHelper] Profile button visible: [33mfalse[39m
[AuthHelper] Profile not visible, trying to open sidebar...
[AuthHelper] Menu button visible: [33mtrue[39m
[AuthHelper] Clicking menu button to open sidebar...
[AuthHelper] Sidebar logout button visible: [33mtrue[39m
[AuthHelper] Clicking sidebar logout button...
[AuthHelper] Waiting for redirect after logout...
[AuthHelper] URL after logout: http://localhost:3000/?callbackUrl=%2Fhome
[AuthHelper] Waiting for login form to appear...
[AuthHelper] Logout completed successfully
]]>
</system-out>
</testcase>
<testcase name="Logout Tests › no debe permitir acceso a rutas protegidas después de logout" classname="auth/logout.spec.ts" time="7.104">
<system-out>
<![CDATA[[AuthHelper] Starting logout process...
[AuthHelper] Current URL before logout: http://localhost:3000/home
[AuthHelper] Profile button visible: [33mfalse[39m
[AuthHelper] Profile not visible, trying to open sidebar...
[AuthHelper] Menu button visible: [33mtrue[39m
[AuthHelper] Clicking menu button to open sidebar...
[AuthHelper] Sidebar logout button visible: [33mtrue[39m
[AuthHelper] Clicking sidebar logout button...
[AuthHelper] Waiting for redirect after logout...
[AuthHelper] URL after logout: http://localhost:3000/?callbackUrl=%2Fhome
[AuthHelper] Waiting for login form to appear...
[AuthHelper] Logout completed successfully
]]>
</system-out>
</testcase>
<testcase name="Logout Tests › debe limpiar sesión completamente después de logout" classname="auth/logout.spec.ts" time="6.576">
<system-out>
<![CDATA[[AuthHelper] Starting logout process...
[AuthHelper] Current URL before logout: http://localhost:3000/home
[AuthHelper] Profile button visible: [33mfalse[39m
[AuthHelper] Profile not visible, trying to open sidebar...
[AuthHelper] Menu button visible: [33mtrue[39m
[AuthHelper] Clicking menu button to open sidebar...
[AuthHelper] Sidebar logout button visible: [33mtrue[39m
[AuthHelper] Clicking sidebar logout button...
[AuthHelper] Waiting for redirect after logout...
[AuthHelper] URL after logout: http://localhost:3000/?callbackUrl=%2Fhome
[AuthHelper] Waiting for login form to appear...
[AuthHelper] Logout completed successfully
]]>
</system-out>
</testcase>
<testcase name="Logout Tests › debe registrar auditoría después de logout" classname="auth/logout.spec.ts" time="12.52">
<failure message="logout.spec.ts:138:7 debe registrar auditoría después de logout" type="FAILURE">
<![CDATA[  [electron] › auth/logout.spec.ts:138:7 › Logout Tests › debe registrar auditoría después de logout 

    Error: expect(received).toBeGreaterThanOrEqual(expected)

    Expected: >= 2
    Received:    0

      157 |     
      158 |     // Debe haber al menos 2 auditorías: LOGIN_SUCCESS y LOGOUT
    > 159 |     expect(audits.length).toBeGreaterThanOrEqual(2);
          |                           ^
      160 |
      161 |     const logoutAudit = audits.find((a) => a.action === 'LOGOUT');
      162 |     expect(logoutAudit).toBeTruthy();
        at /Users/felipe/dev/ElectNextStart/tests/e2e/auth/logout.spec.ts:159:27

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ../../test-results/artifacts/auth-logout-Logout-Tests-d-1e816-auditoría-después-de-logout-electron/test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ../../test-results/artifacts/auth-logout-Logout-Tests-d-1e816-auditoría-después-de-logout-electron/error-context.md

    attachment #3: trace (application/zip) ─────────────────────────────────────────────────────────
    ../../test-results/artifacts/auth-logout-Logout-Tests-d-1e816-auditoría-después-de-logout-electron/trace.zip
    Usage:

        npx playwright show-trace ../../test-results/artifacts/auth-logout-Logout-Tests-d-1e816-auditoría-después-de-logout-electron/trace.zip

    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[[AuthHelper] Starting logout process...
[AuthHelper] Current URL before logout: http://localhost:3000/home
[AuthHelper] Profile button visible: [33mfalse[39m
[AuthHelper] Profile not visible, trying to open sidebar...
[AuthHelper] Menu button visible: [33mtrue[39m
[AuthHelper] Clicking menu button to open sidebar...
[AuthHelper] Sidebar logout button visible: [33mtrue[39m
[AuthHelper] Clicking sidebar logout button...
[AuthHelper] Waiting for redirect after logout...
[AuthHelper] URL after logout: http://localhost:3000/?callbackUrl=%2Fhome
[AuthHelper] Waiting for login form to appear...
[AuthHelper] Logout completed successfully
[AuthHelper] Starting logout process...
[AuthHelper] Current URL before logout: http://localhost:3000/home
[AuthHelper] Profile button visible: [33mfalse[39m
[AuthHelper] Profile not visible, trying to open sidebar...
[AuthHelper] Menu button visible: [33mtrue[39m
[AuthHelper] Clicking menu button to open sidebar...
[AuthHelper] Sidebar logout button visible: [33mtrue[39m
[AuthHelper] Clicking sidebar logout button...
[AuthHelper] Waiting for redirect after logout...
[AuthHelper] URL after logout: http://localhost:3000/?callbackUrl=%2Fhome
[AuthHelper] Waiting for login form to appear...
[AuthHelper] Logout completed successfully

[[ATTACHMENT|artifacts/auth-logout-Logout-Tests-d-1e816-auditoría-después-de-logout-electron/test-failed-1.png]]

[[ATTACHMENT|artifacts/auth-logout-Logout-Tests-d-1e816-auditoría-después-de-logout-electron/error-context.md]]

[[ATTACHMENT|artifacts/auth-logout-Logout-Tests-d-1e816-auditoría-después-de-logout-electron/trace.zip]]
]]>
</system-out>
</testcase>
<testcase name="Logout Tests › debe requerir nuevo login después de logout" classname="auth/logout.spec.ts" time="10.811">
<system-out>
<![CDATA[[AppHelper] Launching Electron with env: {
  NODE_ENV: [32m'test'[39m,
  CONFIG_PATH: [32m'/Users/felipe/dev/ElectNextStart/app.config.json'[39m,
  NEXTAUTH_URL: [32m'http://localhost:3000'[39m
}
Current URL after launch: http://localhost:3000/
Waiting for Next.js app to load...
Final URL: http://localhost:3000/
[AuthHelper] Starting logout process...
[AuthHelper] Current URL before logout: http://localhost:3000/home
[AuthHelper] Profile button visible: [33mfalse[39m
[AuthHelper] Profile not visible, trying to open sidebar...
[AuthHelper] Menu button visible: [33mtrue[39m
[AuthHelper] Clicking menu button to open sidebar...
[AuthHelper] Sidebar logout button visible: [33mtrue[39m
[AuthHelper] Clicking sidebar logout button...
[AuthHelper] Waiting for redirect after logout...
[AuthHelper] URL after logout: http://localhost:3000/?callbackUrl=%2Fhome
[AuthHelper] Waiting for login form to appear...
[AuthHelper] Logout completed successfully
]]>
</system-out>
</testcase>
<testcase name="Logout Tests › no debe mantener información de usuario después de logout" classname="auth/logout.spec.ts" time="6.532">
<system-out>
<![CDATA[[AuthHelper] Starting logout process...
[AuthHelper] Current URL before logout: http://localhost:3000/home
[AuthHelper] Profile button visible: [33mfalse[39m
[AuthHelper] Profile not visible, trying to open sidebar...
[AuthHelper] Menu button visible: [33mtrue[39m
[AuthHelper] Clicking menu button to open sidebar...
[AuthHelper] Sidebar logout button visible: [33mtrue[39m
[AuthHelper] Clicking sidebar logout button...
[AuthHelper] Waiting for redirect after logout...
[AuthHelper] URL after logout: http://localhost:3000/?callbackUrl=%2Fhome
[AuthHelper] Waiting for login form to appear...
[AuthHelper] Logout completed successfully
]]>
</system-out>
</testcase>
<testcase name="Logout Tests › debe permitir logout desde diferentes páginas" classname="auth/logout.spec.ts" time="6.773">
<system-out>
<![CDATA[[AuthHelper] Starting logout process...
[AuthHelper] Current URL before logout: http://localhost:3000/home
[AuthHelper] Profile button visible: [33mfalse[39m
[AuthHelper] Profile not visible, trying to open sidebar...
[AuthHelper] Menu button visible: [33mtrue[39m
[AuthHelper] Clicking menu button to open sidebar...
[AuthHelper] Sidebar logout button visible: [33mtrue[39m
[AuthHelper] Clicking sidebar logout button...
[AuthHelper] Waiting for redirect after logout...
[AuthHelper] URL after logout: http://localhost:3000/?callbackUrl=%2Fhome
[AuthHelper] Waiting for login form to appear...
[AuthHelper] Logout completed successfully
]]>
</system-out>
</testcase>
</testsuite>
<testsuite name="customers/customers.spec.ts" timestamp="2025-12-18T16:54:38.980Z" hostname="electron" tests="4" failures="0" skipped="0" time="19.042" errors="0">
<testcase name="Customer Management Tests › debe crear un nuevo cliente" classname="customers/customers.spec.ts" time="8.513">
<system-out>
<![CDATA[[AppHelper] Launching Electron with env: {
  NODE_ENV: [32m'test'[39m,
  CONFIG_PATH: [32m'/Users/felipe/dev/ElectNextStart/app.config.json'[39m,
  NEXTAUTH_URL: [32m'http://localhost:3000'[39m
}
Current URL after launch: http://localhost:3000/
Waiting for Next.js app to load...
Final URL: http://localhost:3000/
]]>
</system-out>
</testcase>
<testcase name="Customer Management Tests › debe mostrar lista de clientes después del login" classname="customers/customers.spec.ts" time="2.03">
</testcase>
<testcase name="Customer Management Tests › debe buscar clientes por nombre" classname="customers/customers.spec.ts" time="3.044">
</testcase>
<testcase name="Customer Management Tests › debe actualizar un cliente existente" classname="customers/customers.spec.ts" time="5.455">
</testcase>
</testsuite>
<testsuite name="formats/formats.spec.ts" timestamp="2025-12-18T16:54:38.980Z" hostname="electron" tests="11" failures="3" skipped="0" time="72.834" errors="0">
<testcase name="Formats Management Tests - Optimized › debe mostrar lista de formatos después del login" classname="formats/formats.spec.ts" time="0.786">
<system-out>
<![CDATA[[AppHelper] Launching Electron with env: {
  NODE_ENV: [32m'test'[39m,
  CONFIG_PATH: [32m'/Users/felipe/dev/ElectNextStart/app.config.json'[39m,
  NEXTAUTH_URL: [32m'http://localhost:3000'[39m
}
Current URL after launch: http://localhost:3000/home
Waiting for Next.js app to load...
Final URL: http://localhost:3000/home
]]>
</system-out>
</testcase>
<testcase name="Formats Management Tests - Optimized › debe buscar formatos por nombre" classname="formats/formats.spec.ts" time="1.071">
</testcase>
<testcase name="Formats Management Tests - Optimized › debe buscar formatos por descripción" classname="formats/formats.spec.ts" time="1.084">
</testcase>
<testcase name="Formats Management Tests - Optimized › debe abrir el diálogo de crear nuevo formato" classname="formats/formats.spec.ts" time="0.901">
</testcase>
<testcase name="Formats Management Tests - Optimized › debe validar campos requeridos en creación de formato" classname="formats/formats.spec.ts" time="1.431">
</testcase>
<testcase name="Formats Management Tests - Optimized › debe crear un formato nuevo exitosamente" classname="formats/formats.spec.ts" time="1.995">
</testcase>
<testcase name="Formats Management Tests - Optimized › debe actualizar un formato existente" classname="formats/formats.spec.ts" time="1.797">
</testcase>
<testcase name="Formats Management Tests - Optimized › debe eliminar un formato" classname="formats/formats.spec.ts" time="1.792">
</testcase>
<testcase name="Formats Management Tests - Optimized › debe registrar auditoría cuando se crea un formato" classname="formats/formats.spec.ts" time="1.971">
<failure message="formats.spec.ts:314:7 debe registrar auditoría cuando se crea un formato" type="FAILURE">
<![CDATA[  [electron] › formats/formats.spec.ts:314:7 › Formats Management Tests - Optimized › debe registrar auditoría cuando se crea un formato 

    Error: expect(received).toBeTruthy()

    Received: undefined

      351 |       record.description && record.description.includes(testFormatName)
      352 |     );
    > 353 |     expect(recentAudit).toBeTruthy();
          |                         ^
      354 |   });
      355 |
      356 |   test('debe registrar auditoría cuando se actualiza un formato', async () => {
        at /Users/felipe/dev/ElectNextStart/tests/e2e/formats/formats.spec.ts:353:25

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ../../test-results/artifacts/formats-formats-Formats-Ma-5b0b3-a-cuando-se-crea-un-formato-electron/test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ../../test-results/artifacts/formats-formats-Formats-Ma-5b0b3-a-cuando-se-crea-un-formato-electron/error-context.md

    attachment #3: trace (application/zip) ─────────────────────────────────────────────────────────
    ../../test-results/artifacts/formats-formats-Formats-Ma-5b0b3-a-cuando-se-crea-un-formato-electron/trace.zip
    Usage:

        npx playwright show-trace ../../test-results/artifacts/formats-formats-Formats-Ma-5b0b3-a-cuando-se-crea-un-formato-electron/trace.zip

    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|artifacts/formats-formats-Formats-Ma-5b0b3-a-cuando-se-crea-un-formato-electron/test-failed-1.png]]

[[ATTACHMENT|artifacts/formats-formats-Formats-Ma-5b0b3-a-cuando-se-crea-un-formato-electron/error-context.md]]

[[ATTACHMENT|artifacts/formats-formats-Formats-Ma-5b0b3-a-cuando-se-crea-un-formato-electron/trace.zip]]
]]>
</system-out>
</testcase>
<testcase name="Formats Management Tests - Optimized › debe registrar auditoría cuando se actualiza un formato" classname="formats/formats.spec.ts" time="30.003">
<failure message="formats.spec.ts:356:7 debe registrar auditoría cuando se actualiza un formato" type="FAILURE">
<![CDATA[  [electron] › formats/formats.spec.ts:356:7 › Formats Management Tests - Optimized › debe registrar auditoría cuando se actualiza un formato 

    Test timeout of 30000ms exceeded.

    Error: locator.click: Target page, context or browser has been closed
    Call log:
      - waiting for locator('button[type="submit"]').filter({ hasText: /Guardar|Save/i }).first()


      381 |     // Guardar cambios
      382 |     const saveButton = page.locator('button[type="submit"]').filter({ hasText: /Guardar|Save/i }).first();
    > 383 |     await saveButton.click();
          |                      ^
      384 |     await page.waitForTimeout(1000);
      385 |
      386 |     // Assert
        at /Users/felipe/dev/ElectNextStart/tests/e2e/formats/formats.spec.ts:383:22

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ../../test-results/artifacts/formats-formats-Formats-Ma-1f3a8-ndo-se-actualiza-un-formato-electron/test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ../../test-results/artifacts/formats-formats-Formats-Ma-1f3a8-ndo-se-actualiza-un-formato-electron/error-context.md

    attachment #3: trace (application/zip) ─────────────────────────────────────────────────────────
    ../../test-results/artifacts/formats-formats-Formats-Ma-1f3a8-ndo-se-actualiza-un-formato-electron/trace.zip
    Usage:

        npx playwright show-trace ../../test-results/artifacts/formats-formats-Formats-Ma-1f3a8-ndo-se-actualiza-un-formato-electron/trace.zip

    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[[AppHelper] Launching Electron with env: {
  NODE_ENV: [32m'test'[39m,
  CONFIG_PATH: [32m'/Users/felipe/dev/ElectNextStart/app.config.json'[39m,
  NEXTAUTH_URL: [32m'http://localhost:3000'[39m
}
Current URL after launch: http://localhost:3000/home
Waiting for Next.js app to load...
Final URL: http://localhost:3000/home

[[ATTACHMENT|artifacts/formats-formats-Formats-Ma-1f3a8-ndo-se-actualiza-un-formato-electron/test-failed-1.png]]

[[ATTACHMENT|artifacts/formats-formats-Formats-Ma-1f3a8-ndo-se-actualiza-un-formato-electron/error-context.md]]

[[ATTACHMENT|artifacts/formats-formats-Formats-Ma-1f3a8-ndo-se-actualiza-un-formato-electron/trace.zip]]
]]>
</system-out>
</testcase>
<testcase name="Formats Management Tests - Optimized › debe registrar auditoría cuando se elimina un formato" classname="formats/formats.spec.ts" time="30.003">
<failure message="formats.spec.ts:395:7 debe registrar auditoría cuando se elimina un formato" type="FAILURE">
<![CDATA[  [electron] › formats/formats.spec.ts:395:7 › Formats Management Tests - Optimized › debe registrar auditoría cuando se elimina un formato 

    Test timeout of 30000ms exceeded.

    Error: locator.click: Target page, context or browser has been closed
    Call log:
      - waiting for locator('button').filter({ hasText: /Eliminar|Delete|Confirmar/i }).first()
        - locator resolved to <button type="button" data-test-id="format-card-1010-delete-button" class="icon-button-basic-secondary   icon-size-md w-10 h-10" aria-label="Eliminar formato AUDIT_DELETE_FORMAT_1766077115183">…</button>
      - attempting click action
        2 × waiting for element to be visible, enabled and stable
          - element is visible, enabled and stable
          - scrolling into view if needed
          - done scrolling
          - <div class="form-actions">…</div> from <div role="dialog" aria-modal="true" data-test-id="dialog-root" aria-label="Eliminar Formato" class="fixed inset-0 transition-all bg-black/70 opacity-100 flex items-start justify-center pt-8 ">…</div> subtree intercepts pointer events
        - retrying click action
        - waiting 20ms
        2 × waiting for element to be visible, enabled and stable
          - element is visible, enabled and stable
          - scrolling into view if needed
          - done scrolling
          - <div class="form-actions">…</div> from <div role="dialog" aria-modal="true" data-test-id="dialog-root" aria-label="Eliminar Formato" class="fixed inset-0 transition-all bg-black/70 opacity-100 flex items-start justify-center pt-8 ">…</div> subtree intercepts pointer events
        - retrying click action
          - waiting 100ms
        55 × waiting for element to be visible, enabled and stable
           - element is visible, enabled and stable
           - scrolling into view if needed
           - done scrolling
           - <div class="form-actions">…</div> from <div role="dialog" aria-modal="true" data-test-id="dialog-root" aria-label="Eliminar Formato" class="fixed inset-0 transition-all bg-black/70 opacity-100 flex items-start justify-center pt-8 ">…</div> subtree intercepts pointer events
         - retrying click action
           - waiting 500ms


      415 |     // Confirmar eliminación
      416 |     const confirmButton = page.locator('button').filter({ hasText: /Eliminar|Delete|Confirmar/i }).first();
    > 417 |     await confirmButton.click();
          |                         ^
      418 |     await page.waitForTimeout(1000);
      419 |
      420 |     // Assert
        at /Users/felipe/dev/ElectNextStart/tests/e2e/formats/formats.spec.ts:417:25

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ../../test-results/artifacts/formats-formats-Formats-Ma-63db9-uando-se-elimina-un-formato-electron/test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ../../test-results/artifacts/formats-formats-Formats-Ma-63db9-uando-se-elimina-un-formato-electron/error-context.md

    attachment #3: trace (application/zip) ─────────────────────────────────────────────────────────
    ../../test-results/artifacts/formats-formats-Formats-Ma-63db9-uando-se-elimina-un-formato-electron/trace.zip
    Usage:

        npx playwright show-trace ../../test-results/artifacts/formats-formats-Formats-Ma-63db9-uando-se-elimina-un-formato-electron/trace.zip

    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[[AppHelper] Launching Electron with env: {
  NODE_ENV: [32m'test'[39m,
  CONFIG_PATH: [32m'/Users/felipe/dev/ElectNextStart/app.config.json'[39m,
  NEXTAUTH_URL: [32m'http://localhost:3000'[39m
}
Current URL after launch: http://localhost:3000/home
Waiting for Next.js app to load...
Final URL: http://localhost:3000/home

[[ATTACHMENT|artifacts/formats-formats-Formats-Ma-63db9-uando-se-elimina-un-formato-electron/test-failed-1.png]]

[[ATTACHMENT|artifacts/formats-formats-Formats-Ma-63db9-uando-se-elimina-un-formato-electron/error-context.md]]

[[ATTACHMENT|artifacts/formats-formats-Formats-Ma-63db9-uando-se-elimina-un-formato-electron/trace.zip]]
]]>
</system-out>
</testcase>
</testsuite>
<testsuite name="receptions/reception-basic.spec.ts" timestamp="2025-12-18T16:54:38.980Z" hostname="electron" tests="4" failures="1" skipped="3" time="0" errors="0">
<testcase name="Recepciones UI › procesa una recepción simple en CLP" classname="receptions/reception-basic.spec.ts" time="0">
<failure message="reception-basic.spec.ts:73:7 procesa una recepción simple en CLP" type="FAILURE">
<![CDATA[  [electron] › receptions/reception-basic.spec.ts:73:7 › Recepciones UI › procesa una recepción simple en CLP 

    Error: connect ETIMEDOUT

      33 |     const configPath = path.join(process.cwd(), 'app.config.test.json');
      34 |     const config = JSON.parse(fs.readFileSync(configPath, 'utf-8'));
    > 35 |     db = await mysql.createConnection({
         |                      ^
      36 |       host: config.database.host,
      37 |       port: config.database.port,
      38 |       user: config.database.username,
        at Object.createConnection (/Users/felipe/dev/ElectNextStart/node_modules/mysql2/promise.js:253:31)
        at /Users/felipe/dev/ElectNextStart/tests/e2e/receptions/reception-basic.spec.ts:35:22

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ../../test-results/artifacts/receptions-reception-basic-ee8a4-una-recepción-simple-en-CLP-electron/test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ../../test-results/artifacts/receptions-reception-basic-ee8a4-una-recepción-simple-en-CLP-electron/error-context.md

    attachment #3: trace (application/zip) ─────────────────────────────────────────────────────────
    ../../test-results/artifacts/receptions-reception-basic-ee8a4-una-recepción-simple-en-CLP-electron/trace.zip
    Usage:

        npx playwright show-trace ../../test-results/artifacts/receptions-reception-basic-ee8a4-una-recepción-simple-en-CLP-electron/trace.zip

    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[[AppHelper] Launching Electron with env: {
  NODE_ENV: [32m'test'[39m,
  CONFIG_PATH: [32m'/Users/felipe/dev/ElectNextStart/app.config.json'[39m,
  NEXTAUTH_URL: [32m'http://localhost:3000'[39m
}
Current URL after launch: http://localhost:3000/home
Waiting for Next.js app to load...
Final URL: http://localhost:3000/home

[[ATTACHMENT|artifacts/receptions-reception-basic-ee8a4-una-recepción-simple-en-CLP-electron/test-failed-1.png]]

[[ATTACHMENT|artifacts/receptions-reception-basic-ee8a4-una-recepción-simple-en-CLP-electron/error-context.md]]

[[ATTACHMENT|artifacts/receptions-reception-basic-ee8a4-una-recepción-simple-en-CLP-electron/trace.zip]]
]]>
</system-out>
</testcase>
<testcase name="Recepciones UI › procesa recepción mixta CLP + USD sin aplicar tipo de cambio" classname="receptions/reception-basic.spec.ts" time="0">
<skipped>
</skipped>
</testcase>
<testcase name="Recepciones UI › procesa recepción con devolución de bandejas y resetea formulario" classname="receptions/reception-basic.spec.ts" time="0">
<skipped>
</skipped>
</testcase>
<testcase name="Recepciones UI › procesa recepción asignando un pack a múltiples pallets" classname="receptions/reception-basic.spec.ts" time="0">
<skipped>
</skipped>
</testcase>
</testsuite>
<testsuite name="users/users.spec.ts" timestamp="2025-12-18T16:54:38.980Z" hostname="electron" tests="10" failures="1" skipped="0" time="15.002" errors="0">
<testcase name="User Management Tests › debe mostrar lista de usuarios después del login" classname="users/users.spec.ts" time="0.575">
<system-out>
<![CDATA[[AppHelper] Launching Electron with env: {
  NODE_ENV: [32m'test'[39m,
  CONFIG_PATH: [32m'/Users/felipe/dev/ElectNextStart/app.config.json'[39m,
  NEXTAUTH_URL: [32m'http://localhost:3000'[39m
}
Current URL after launch: http://localhost:3000/home
Waiting for Next.js app to load...
Final URL: http://localhost:3000/home
]]>
</system-out>
</testcase>
<testcase name="User Management Tests › debe buscar usuarios por nombre de usuario" classname="users/users.spec.ts" time="1.117">
</testcase>
<testcase name="User Management Tests › debe abrir el diálogo de crear nuevo usuario" classname="users/users.spec.ts" time="0.932">
</testcase>
<testcase name="User Management Tests › debe filtrar usuarios por rol" classname="users/users.spec.ts" time="0.563">
</testcase>
<testcase name="User Management Tests › debe validar campos requeridos en creación de usuario" classname="users/users.spec.ts" time="1.45">
</testcase>
<testcase name="User Management Tests › debe actualizar un usuario existente" classname="users/users.spec.ts" time="1.108">
</testcase>
<testcase name="User Management Tests › debe eliminar un usuario" classname="users/users.spec.ts" time="1.116">
</testcase>
<testcase name="User Management Tests › debe registrar auditoría cuando se actualiza un usuario" classname="users/users.spec.ts" time="1.126">
</testcase>
<testcase name="User Management Tests › debe registrar auditoría cuando se elimina un usuario" classname="users/users.spec.ts" time="1.114">
</testcase>
<testcase name="User Management Tests › debe permitir cambiar contraseña desde el perfil de usuario" classname="users/users.spec.ts" time="5.901">
<failure message="users.spec.ts:340:7 debe permitir cambiar contraseña desde el perfil de usuario" type="FAILURE">
<![CDATA[  [electron] › users/users.spec.ts:340:7 › User Management Tests › debe permitir cambiar contraseña desde el perfil de usuario 

    TimeoutError: locator.waitFor: Timeout 5000ms exceeded.
    Call log:
      - waiting for locator('button').filter({ hasText: 'Cambiar Contraseña' }).first() to be visible


      360 |     // Verificar que el menú se abrió (buscar el botón de cambiar contraseña)
      361 |     const changePasswordButton = page.locator('button').filter({ hasText: 'Cambiar Contraseña' }).first();
    > 362 |     await changePasswordButton.waitFor({ state: 'visible', timeout: 5000 });
          |                                ^
      363 |
      364 |     // Hacer click en "Cambiar Contraseña"
      365 |     await changePasswordButton.click();
        at /Users/felipe/dev/ElectNextStart/tests/e2e/users/users.spec.ts:362:32

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ../../test-results/artifacts/users-users-User-Managemen-31cbf--desde-el-perfil-de-usuario-electron/test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ../../test-results/artifacts/users-users-User-Managemen-31cbf--desde-el-perfil-de-usuario-electron/error-context.md

    attachment #3: trace (application/zip) ─────────────────────────────────────────────────────────
    ../../test-results/artifacts/users-users-User-Managemen-31cbf--desde-el-perfil-de-usuario-electron/trace.zip
    Usage:

        npx playwright show-trace ../../test-results/artifacts/users-users-User-Managemen-31cbf--desde-el-perfil-de-usuario-electron/trace.zip

    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|artifacts/users-users-User-Managemen-31cbf--desde-el-perfil-de-usuario-electron/test-failed-1.png]]

[[ATTACHMENT|artifacts/users-users-User-Managemen-31cbf--desde-el-perfil-de-usuario-electron/error-context.md]]

[[ATTACHMENT|artifacts/users-users-User-Managemen-31cbf--desde-el-perfil-de-usuario-electron/trace.zip]]
]]>
</system-out>
</testcase>
</testsuite>
<testsuite name="varieties/create-variety.spec.ts" timestamp="2025-12-18T16:54:38.980Z" hostname="electron" tests="2" failures="2" skipped="0" time="35.617" errors="0">
<testcase name="Crear Variedad › Los campos CLP y USD tienen valor 0 por defecto" classname="varieties/create-variety.spec.ts" time="17.824">
<failure message="create-variety.spec.ts:8:7 Los campos CLP y USD tienen valor 0 por defecto" type="FAILURE">
<![CDATA[  [electron] › varieties/create-variety.spec.ts:8:7 › Crear Variedad › Los campos CLP y USD tienen valor 0 por defecto 

    TimeoutError: page.waitForSelector: Timeout 10000ms exceeded.
    Call log:
      - waiting for locator('input[name="username"]') to be visible


       at ../helpers/auth-helper.ts:25

      23 |   async login(username: string, password: string): Promise<void> {
      24 |     // Esperar a que la página de login esté cargada
    > 25 |     await this.page.waitForSelector('input[name="username"]', {
         |                     ^
      26 |       state: 'visible',
      27 |       timeout: 10000,
      28 |     });
        at AuthHelper.login (/Users/felipe/dev/ElectNextStart/tests/helpers/auth-helper.ts:25:21)
        at /Users/felipe/dev/ElectNextStart/tests/e2e/varieties/create-variety.spec.ts:13:22

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ../../test-results/artifacts/varieties-create-variety-C-f3055--tienen-valor-0-por-defecto-electron/test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ../../test-results/artifacts/varieties-create-variety-C-f3055--tienen-valor-0-por-defecto-electron/video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #3: trace (application/zip) ─────────────────────────────────────────────────────────
    ../../test-results/artifacts/varieties-create-variety-C-f3055--tienen-valor-0-por-defecto-electron/trace.zip
    Usage:

        npx playwright show-trace ../../test-results/artifacts/varieties-create-variety-C-f3055--tienen-valor-0-por-defecto-electron/trace.zip

    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[[AppHelper] Launching Electron with env: {
  NODE_ENV: [32m'test'[39m,
  CONFIG_PATH: [32m'/Users/felipe/dev/ElectNextStart/app.config.json'[39m,
  NEXTAUTH_URL: [32m'http://localhost:3000'[39m
}
Current URL after launch: http://localhost:3000/home
Waiting for Next.js app to load...
Final URL: http://localhost:3000/home

[[ATTACHMENT|artifacts/varieties-create-variety-C-f3055--tienen-valor-0-por-defecto-electron/test-failed-1.png]]

[[ATTACHMENT|artifacts/varieties-create-variety-C-f3055--tienen-valor-0-por-defecto-electron/video.webm]]

[[ATTACHMENT|artifacts/varieties-create-variety-C-f3055--tienen-valor-0-por-defecto-electron/trace.zip]]
]]>
</system-out>
</testcase>
<testcase name="Crear Variedad › Crear variedad con valores válidos" classname="varieties/create-variety.spec.ts" time="17.793">
<failure message="create-variety.spec.ts:21:7 Crear variedad con valores válidos" type="FAILURE">
<![CDATA[  [electron] › varieties/create-variety.spec.ts:21:7 › Crear Variedad › Crear variedad con valores válidos 

    TimeoutError: page.waitForSelector: Timeout 10000ms exceeded.
    Call log:
      - waiting for locator('input[name="username"]') to be visible


       at ../helpers/auth-helper.ts:25

      23 |   async login(username: string, password: string): Promise<void> {
      24 |     // Esperar a que la página de login esté cargada
    > 25 |     await this.page.waitForSelector('input[name="username"]', {
         |                     ^
      26 |       state: 'visible',
      27 |       timeout: 10000,
      28 |     });
        at AuthHelper.login (/Users/felipe/dev/ElectNextStart/tests/helpers/auth-helper.ts:25:21)
        at /Users/felipe/dev/ElectNextStart/tests/e2e/varieties/create-variety.spec.ts:26:22

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ../../test-results/artifacts/varieties-create-variety-C-3d25c-ariedad-con-valores-válidos-electron/test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ../../test-results/artifacts/varieties-create-variety-C-3d25c-ariedad-con-valores-válidos-electron/video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #3: trace (application/zip) ─────────────────────────────────────────────────────────
    ../../test-results/artifacts/varieties-create-variety-C-3d25c-ariedad-con-valores-válidos-electron/trace.zip
    Usage:

        npx playwright show-trace ../../test-results/artifacts/varieties-create-variety-C-3d25c-ariedad-con-valores-válidos-electron/trace.zip

    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[[AppHelper] Launching Electron with env: {
  NODE_ENV: [32m'test'[39m,
  CONFIG_PATH: [32m'/Users/felipe/dev/ElectNextStart/app.config.json'[39m,
  NEXTAUTH_URL: [32m'http://localhost:3000'[39m
}
Current URL after launch: http://localhost:3000/home
Waiting for Next.js app to load...
Final URL: http://localhost:3000/home

[[ATTACHMENT|artifacts/varieties-create-variety-C-3d25c-ariedad-con-valores-válidos-electron/test-failed-1.png]]

[[ATTACHMENT|artifacts/varieties-create-variety-C-3d25c-ariedad-con-valores-válidos-electron/video.webm]]

[[ATTACHMENT|artifacts/varieties-create-variety-C-3d25c-ariedad-con-valores-válidos-electron/trace.zip]]
]]>
</system-out>
</testcase>
</testsuite>
<testsuite name="varieties/varieties-list.spec.ts" timestamp="2025-12-18T16:54:38.980Z" hostname="electron" tests="3" failures="3" skipped="0" time="50.017" errors="0">
<testcase name="Variety List Tests › debe mostrar lista de variedades después del login" classname="varieties/varieties-list.spec.ts" time="16.664">
<failure message="varieties-list.spec.ts:67:7 debe mostrar lista de variedades después del login" type="FAILURE">
<![CDATA[  [electron] › varieties/varieties-list.spec.ts:67:7 › Variety List Tests › debe mostrar lista de variedades después del login 

    TimeoutError: locator.waitFor: Timeout 5000ms exceeded.
    Call log:
      - waiting for locator('[data-test-id="varieties-list-container"]') to be visible


      69 |     // Esperar a que la lista de variedades esté visible
      70 |     const varietiesListContainer = page.locator('[data-test-id="varieties-list-container"]');
    > 71 |     await varietiesListContainer.waitFor({ state: 'visible', timeout: 5000 });
         |                                  ^
      72 |
      73 |     // Verificar que hay al menos un elemento en la lista (las variedades seeded)
      74 |     const varietyCards = page.locator('[data-test-id^="variety-card-"]');
        at /Users/felipe/dev/ElectNextStart/tests/e2e/varieties/varieties-list.spec.ts:71:34

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ../../test-results/artifacts/varieties-varieties-list-V-bec29-ariedades-después-del-login-electron/test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ../../test-results/artifacts/varieties-varieties-list-V-bec29-ariedades-después-del-login-electron/error-context.md

    attachment #3: trace (application/zip) ─────────────────────────────────────────────────────────
    ../../test-results/artifacts/varieties-varieties-list-V-bec29-ariedades-después-del-login-electron/trace.zip
    Usage:

        npx playwright show-trace ../../test-results/artifacts/varieties-varieties-list-V-bec29-ariedades-después-del-login-electron/trace.zip

    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[[AppHelper] Launching Electron with env: {
  NODE_ENV: [32m'test'[39m,
  CONFIG_PATH: [32m'/Users/felipe/dev/ElectNextStart/app.config.json'[39m,
  NEXTAUTH_URL: [32m'http://localhost:3000'[39m
}
Current URL after launch: http://localhost:3000/home
Waiting for Next.js app to load...
Final URL: http://localhost:3000/home

[[ATTACHMENT|artifacts/varieties-varieties-list-V-bec29-ariedades-después-del-login-electron/test-failed-1.png]]

[[ATTACHMENT|artifacts/varieties-varieties-list-V-bec29-ariedades-después-del-login-electron/error-context.md]]

[[ATTACHMENT|artifacts/varieties-varieties-list-V-bec29-ariedades-después-del-login-electron/trace.zip]]
]]>
</system-out>
</testcase>
<testcase name="Variety List Tests › debe buscar variedades por nombre" classname="varieties/varieties-list.spec.ts" time="16.667">
<failure message="varieties-list.spec.ts:79:7 debe buscar variedades por nombre" type="FAILURE">
<![CDATA[  [electron] › varieties/varieties-list.spec.ts:79:7 › Variety List Tests › debe buscar variedades por nombre 

    TimeoutError: locator.waitFor: Timeout 5000ms exceeded.
    Call log:
      - waiting for locator('[data-test-id="varieties-search-input"]') to be visible


      84 |     // Esperar a que el contenedor de búsqueda sea visible
      85 |     const searchInput = page.locator('[data-test-id="varieties-search-input"]');
    > 86 |     await searchInput.waitFor({ state: 'visible', timeout: 5000 });
         |                       ^
      87 |     
      88 |     // Llenar el campo de búsqueda
      89 |     await searchInput.fill(searchQuery);
        at /Users/felipe/dev/ElectNextStart/tests/e2e/varieties/varieties-list.spec.ts:86:23

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ../../test-results/artifacts/varieties-varieties-list-V-a930d-uscar-variedades-por-nombre-electron/test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ../../test-results/artifacts/varieties-varieties-list-V-a930d-uscar-variedades-por-nombre-electron/error-context.md

    attachment #3: trace (application/zip) ─────────────────────────────────────────────────────────
    ../../test-results/artifacts/varieties-varieties-list-V-a930d-uscar-variedades-por-nombre-electron/trace.zip
    Usage:

        npx playwright show-trace ../../test-results/artifacts/varieties-varieties-list-V-a930d-uscar-variedades-por-nombre-electron/trace.zip

    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[[AppHelper] Launching Electron with env: {
  NODE_ENV: [32m'test'[39m,
  CONFIG_PATH: [32m'/Users/felipe/dev/ElectNextStart/app.config.json'[39m,
  NEXTAUTH_URL: [32m'http://localhost:3000'[39m
}
Current URL after launch: http://localhost:3000/home
Waiting for Next.js app to load...
Final URL: http://localhost:3000/home

[[ATTACHMENT|artifacts/varieties-varieties-list-V-a930d-uscar-variedades-por-nombre-electron/test-failed-1.png]]

[[ATTACHMENT|artifacts/varieties-varieties-list-V-a930d-uscar-variedades-por-nombre-electron/error-context.md]]

[[ATTACHMENT|artifacts/varieties-varieties-list-V-a930d-uscar-variedades-por-nombre-electron/trace.zip]]
]]>
</system-out>
</testcase>
<testcase name="Variety List Tests › debe mostrar mensaje vacío cuando no hay resultados de búsqueda" classname="varieties/varieties-list.spec.ts" time="16.686">
<failure message="varieties-list.spec.ts:99:7 debe mostrar mensaje vacío cuando no hay resultados de búsqueda" type="FAILURE">
<![CDATA[  [electron] › varieties/varieties-list.spec.ts:99:7 › Variety List Tests › debe mostrar mensaje vacío cuando no hay resultados de búsqueda 

    TimeoutError: locator.waitFor: Timeout 5000ms exceeded.
    Call log:
      - waiting for locator('[data-test-id="varieties-search-input"]') to be visible


      103 |     // Act
      104 |     const searchInput = page.locator('[data-test-id="varieties-search-input"]');
    > 105 |     await searchInput.waitFor({ state: 'visible', timeout: 5000 });
          |                       ^
      106 |     
      107 |     await searchInput.fill(searchQuery);
      108 |     await page.waitForTimeout(1000);
        at /Users/felipe/dev/ElectNextStart/tests/e2e/varieties/varieties-list.spec.ts:105:23

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ../../test-results/artifacts/varieties-varieties-list-V-cea44--hay-resultados-de-búsqueda-electron/test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ../../test-results/artifacts/varieties-varieties-list-V-cea44--hay-resultados-de-búsqueda-electron/error-context.md

    attachment #3: trace (application/zip) ─────────────────────────────────────────────────────────
    ../../test-results/artifacts/varieties-varieties-list-V-cea44--hay-resultados-de-búsqueda-electron/trace.zip
    Usage:

        npx playwright show-trace ../../test-results/artifacts/varieties-varieties-list-V-cea44--hay-resultados-de-búsqueda-electron/trace.zip

    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[[AppHelper] Launching Electron with env: {
  NODE_ENV: [32m'test'[39m,
  CONFIG_PATH: [32m'/Users/felipe/dev/ElectNextStart/app.config.json'[39m,
  NEXTAUTH_URL: [32m'http://localhost:3000'[39m
}
Current URL after launch: http://localhost:3000/home
Waiting for Next.js app to load...
Final URL: http://localhost:3000/home

[[ATTACHMENT|artifacts/varieties-varieties-list-V-cea44--hay-resultados-de-búsqueda-electron/test-failed-1.png]]

[[ATTACHMENT|artifacts/varieties-varieties-list-V-cea44--hay-resultados-de-búsqueda-electron/error-context.md]]

[[ATTACHMENT|artifacts/varieties-varieties-list-V-cea44--hay-resultados-de-búsqueda-electron/trace.zip]]
]]>
</system-out>
</testcase>
</testsuite>
<testsuite name="varieties/varieties.spec.ts" timestamp="2025-12-18T16:54:38.980Z" hostname="electron" tests="5" failures="2" skipped="0" time="9.03" errors="0">
<testcase name="Variety Management Tests - Simplified › debe mostrar lista de variedades después del login" classname="varieties/varieties.spec.ts" time="0.603">
<system-out>
<![CDATA[[AppHelper] Launching Electron with env: {
  NODE_ENV: [32m'test'[39m,
  CONFIG_PATH: [32m'/Users/felipe/dev/ElectNextStart/app.config.json'[39m,
  NEXTAUTH_URL: [32m'http://localhost:3000'[39m
}
Current URL after launch: http://localhost:3000/home
Waiting for Next.js app to load...
Final URL: http://localhost:3000/home
]]>
</system-out>
</testcase>
<testcase name="Variety Management Tests - Simplified › debe buscar variedades por nombre" classname="varieties/varieties.spec.ts" time="6.118">
<failure message="varieties.spec.ts:101:7 debe buscar variedades por nombre" type="FAILURE">
<![CDATA[  [electron] › varieties/varieties.spec.ts:101:7 › Variety Management Tests - Simplified › debe buscar variedades por nombre 

    Error: expect(received).toContain(expected) // indexOf

    Expected substring: "Variedad Test 1"
    Received string:    "No hay variedades para mostrar."

      123 |     const varietiesContainer = page.locator('[data-test-id="varieties-grid"]');
      124 |     const content = await varietiesContainer.textContent();
    > 125 |     expect(content).toContain('Variedad Test 1');
          |                     ^
      126 |   });
      127 |
      128 |   test('debe mostrar mensaje vacío cuando no hay resultados de búsqueda', async () => {
        at /Users/felipe/dev/ElectNextStart/tests/e2e/varieties/varieties.spec.ts:125:21

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ../../test-results/artifacts/varieties-varieties-Variet-397ac-uscar-variedades-por-nombre-electron/test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ../../test-results/artifacts/varieties-varieties-Variet-397ac-uscar-variedades-por-nombre-electron/error-context.md

    attachment #3: trace (application/zip) ─────────────────────────────────────────────────────────
    ../../test-results/artifacts/varieties-varieties-Variet-397ac-uscar-variedades-por-nombre-electron/trace.zip
    Usage:

        npx playwright show-trace ../../test-results/artifacts/varieties-varieties-Variet-397ac-uscar-variedades-por-nombre-electron/trace.zip

    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|artifacts/varieties-varieties-Variet-397ac-uscar-variedades-por-nombre-electron/test-failed-1.png]]

[[ATTACHMENT|artifacts/varieties-varieties-Variet-397ac-uscar-variedades-por-nombre-electron/error-context.md]]

[[ATTACHMENT|artifacts/varieties-varieties-Variet-397ac-uscar-variedades-por-nombre-electron/trace.zip]]
]]>
</system-out>
</testcase>
<testcase name="Variety Management Tests - Simplified › debe mostrar mensaje vacío cuando no hay resultados de búsqueda" classname="varieties/varieties.spec.ts" time="1.156">
<system-out>
<![CDATA[[AppHelper] Launching Electron with env: {
  NODE_ENV: [32m'test'[39m,
  CONFIG_PATH: [32m'/Users/felipe/dev/ElectNextStart/app.config.json'[39m,
  NEXTAUTH_URL: [32m'http://localhost:3000'[39m
}
Current URL after launch: http://localhost:3000/home
Waiting for Next.js app to load...
Final URL: http://localhost:3000/home
]]>
</system-out>
</testcase>
<testcase name="Variety Management Tests - Simplified › debe mostrar botón para crear nueva variedad" classname="varieties/varieties.spec.ts" time="0.585">
</testcase>
<testcase name="Variety Management Tests - Simplified › debe mostrar badgets de moneda correctamente" classname="varieties/varieties.spec.ts" time="0.568">
<failure message="varieties.spec.ts:154:7 debe mostrar badgets de moneda correctamente" type="FAILURE">
<![CDATA[  [electron] › varieties/varieties.spec.ts:154:7 › Variety Management Tests - Simplified › debe mostrar badgets de moneda correctamente 

    Error: expect(received).toBeGreaterThanOrEqual(expected)

    Expected: >= 1
    Received:    0

      161 |     const currencyBadges = page.locator('[data-test-id*="currency-badge"]');
      162 |     const badgeCount = await currencyBadges.count();
    > 163 |     expect(badgeCount).toBeGreaterThanOrEqual(1);
          |                        ^
      164 |   });
      165 | });
      166 |
        at /Users/felipe/dev/ElectNextStart/tests/e2e/varieties/varieties.spec.ts:163:24

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ../../test-results/artifacts/varieties-varieties-Variet-d25e1-ets-de-moneda-correctamente-electron/test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ../../test-results/artifacts/varieties-varieties-Variet-d25e1-ets-de-moneda-correctamente-electron/error-context.md

    attachment #3: trace (application/zip) ─────────────────────────────────────────────────────────
    ../../test-results/artifacts/varieties-varieties-Variet-d25e1-ets-de-moneda-correctamente-electron/trace.zip
    Usage:

        npx playwright show-trace ../../test-results/artifacts/varieties-varieties-Variet-d25e1-ets-de-moneda-correctamente-electron/trace.zip

    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|artifacts/varieties-varieties-Variet-d25e1-ets-de-moneda-correctamente-electron/test-failed-1.png]]

[[ATTACHMENT|artifacts/varieties-varieties-Variet-d25e1-ets-de-moneda-correctamente-electron/error-context.md]]

[[ATTACHMENT|artifacts/varieties-varieties-Variet-d25e1-ets-de-moneda-correctamente-electron/trace.zip]]
]]>
</system-out>
</testcase>
</testsuite>
<testsuite name="varieties/variety-full-flow.spec.ts" timestamp="2025-12-18T16:54:38.980Z" hostname="electron" tests="3" failures="3" skipped="0" time="50.445" errors="0">
<testcase name="Variety Management Tests › Crear variedad con valores por defecto" classname="varieties/variety-full-flow.spec.ts" time="16.585">
<failure message="variety-full-flow.spec.ts:60:7 Crear variedad con valores por defecto" type="FAILURE">
<![CDATA[  [electron] › varieties/variety-full-flow.spec.ts:60:7 › Variety Management Tests › Crear variedad con valores por defecto 

    TimeoutError: locator.waitFor: Timeout 5000ms exceeded.
    Call log:
      - waiting for locator('[data-test-id="varieties-list-container"]') to be visible


      61 |     // Esperar a que el contenedor de variedades sea visible
      62 |     const varietiesContainer = page.locator('[data-test-id="varieties-list-container"]');
    > 63 |     await varietiesContainer.waitFor({ state: 'visible', timeout: 5000 });
         |                              ^
      64 |
      65 |     // Abrir diálogo de creación
      66 |     await page.getByTestId('varieties-add-button').click();
        at /Users/felipe/dev/ElectNextStart/tests/e2e/varieties/variety-full-flow.spec.ts:63:30

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ../../test-results/artifacts/varieties-variety-full-flo-92966-dad-con-valores-por-defecto-electron/test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ../../test-results/artifacts/varieties-variety-full-flo-92966-dad-con-valores-por-defecto-electron/error-context.md

    attachment #3: trace (application/zip) ─────────────────────────────────────────────────────────
    ../../test-results/artifacts/varieties-variety-full-flo-92966-dad-con-valores-por-defecto-electron/trace.zip
    Usage:

        npx playwright show-trace ../../test-results/artifacts/varieties-variety-full-flo-92966-dad-con-valores-por-defecto-electron/trace.zip

    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[[AppHelper] Launching Electron with env: {
  NODE_ENV: [32m'test'[39m,
  CONFIG_PATH: [32m'/Users/felipe/dev/ElectNextStart/app.config.json'[39m,
  NEXTAUTH_URL: [32m'http://localhost:3000'[39m
}
Current URL after launch: http://localhost:3000/home
Waiting for Next.js app to load...
Final URL: http://localhost:3000/home

[[ATTACHMENT|artifacts/varieties-variety-full-flo-92966-dad-con-valores-por-defecto-electron/test-failed-1.png]]

[[ATTACHMENT|artifacts/varieties-variety-full-flo-92966-dad-con-valores-por-defecto-electron/error-context.md]]

[[ATTACHMENT|artifacts/varieties-variety-full-flo-92966-dad-con-valores-por-defecto-electron/trace.zip]]
]]>
</system-out>
</testcase>
<testcase name="Variety Management Tests › Listado de variedades y filtro de búsqueda" classname="varieties/variety-full-flow.spec.ts" time="17.175">
<failure message="variety-full-flow.spec.ts:80:7 Listado de variedades y filtro de búsqueda" type="FAILURE">
<![CDATA[  [electron] › varieties/variety-full-flow.spec.ts:80:7 › Variety Management Tests › Listado de variedades y filtro de búsqueda 

    TimeoutError: locator.waitFor: Timeout 5000ms exceeded.
    Call log:
      - waiting for locator('[data-test-id="varieties-list-container"]') to be visible


      81 |     // Esperar a que el contenedor de variedades sea visible
      82 |     const varietiesContainer = page.locator('[data-test-id="varieties-list-container"]');
    > 83 |     await varietiesContainer.waitFor({ state: 'visible', timeout: 5000 });
         |                              ^
      84 |
      85 |     // Esperar a que el grid de variedades sea visible
      86 |     const varietiesGrid = page.locator('[data-test-id="varieties-grid"]');
        at /Users/felipe/dev/ElectNextStart/tests/e2e/varieties/variety-full-flow.spec.ts:83:30

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ../../test-results/artifacts/varieties-variety-full-flo-ba6ce-edades-y-filtro-de-búsqueda-electron/test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ../../test-results/artifacts/varieties-variety-full-flo-ba6ce-edades-y-filtro-de-búsqueda-electron/error-context.md

    attachment #3: trace (application/zip) ─────────────────────────────────────────────────────────
    ../../test-results/artifacts/varieties-variety-full-flo-ba6ce-edades-y-filtro-de-búsqueda-electron/trace.zip
    Usage:

        npx playwright show-trace ../../test-results/artifacts/varieties-variety-full-flo-ba6ce-edades-y-filtro-de-búsqueda-electron/trace.zip

    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[[AppHelper] Launching Electron with env: {
  NODE_ENV: [32m'test'[39m,
  CONFIG_PATH: [32m'/Users/felipe/dev/ElectNextStart/app.config.json'[39m,
  NEXTAUTH_URL: [32m'http://localhost:3000'[39m
}
Current URL after launch: http://localhost:3000/home
Waiting for Next.js app to load...
Final URL: http://localhost:3000/home

[[ATTACHMENT|artifacts/varieties-variety-full-flo-ba6ce-edades-y-filtro-de-búsqueda-electron/test-failed-1.png]]

[[ATTACHMENT|artifacts/varieties-variety-full-flo-ba6ce-edades-y-filtro-de-búsqueda-electron/error-context.md]]

[[ATTACHMENT|artifacts/varieties-variety-full-flo-ba6ce-edades-y-filtro-de-búsqueda-electron/trace.zip]]
]]>
</system-out>
</testcase>
<testcase name="Variety Management Tests › Creación, actualización, eliminación y auditoría" classname="varieties/variety-full-flow.spec.ts" time="16.685">
<failure message="variety-full-flow.spec.ts:107:7 Creación, actualización, eliminación y auditoría" type="FAILURE">
<![CDATA[  [electron] › varieties/variety-full-flow.spec.ts:107:7 › Variety Management Tests › Creación, actualización, eliminación y auditoría 

    TimeoutError: locator.waitFor: Timeout 5000ms exceeded.
    Call log:
      - waiting for locator('[data-test-id="varieties-list-container"]') to be visible


      108 |     // Esperar a que el contenedor de variedades sea visible
      109 |     const varietiesContainer = page.locator('[data-test-id="varieties-list-container"]');
    > 110 |     await varietiesContainer.waitFor({ state: 'visible', timeout: 5000 });
          |                              ^
      111 |
      112 |     // 1. Crear variedad
      113 |     await page.getByTestId('varieties-add-button').click();
        at /Users/felipe/dev/ElectNextStart/tests/e2e/varieties/variety-full-flow.spec.ts:110:30

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ../../test-results/artifacts/varieties-variety-full-flo-d486f-ión-eliminación-y-auditoría-electron/test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ../../test-results/artifacts/varieties-variety-full-flo-d486f-ión-eliminación-y-auditoría-electron/error-context.md

    attachment #3: trace (application/zip) ─────────────────────────────────────────────────────────
    ../../test-results/artifacts/varieties-variety-full-flo-d486f-ión-eliminación-y-auditoría-electron/trace.zip
    Usage:

        npx playwright show-trace ../../test-results/artifacts/varieties-variety-full-flo-d486f-ión-eliminación-y-auditoría-electron/trace.zip

    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[[AppHelper] Launching Electron with env: {
  NODE_ENV: [32m'test'[39m,
  CONFIG_PATH: [32m'/Users/felipe/dev/ElectNextStart/app.config.json'[39m,
  NEXTAUTH_URL: [32m'http://localhost:3000'[39m
}
Current URL after launch: http://localhost:3000/home
Waiting for Next.js app to load...
Final URL: http://localhost:3000/home

[[ATTACHMENT|artifacts/varieties-variety-full-flo-d486f-ión-eliminación-y-auditoría-electron/test-failed-1.png]]

[[ATTACHMENT|artifacts/varieties-variety-full-flo-d486f-ión-eliminación-y-auditoría-electron/error-context.md]]

[[ATTACHMENT|artifacts/varieties-variety-full-flo-d486f-ión-eliminación-y-auditoría-electron/trace.zip]]
]]>
</system-out>
</testcase>
</testsuite>
</testsuites>